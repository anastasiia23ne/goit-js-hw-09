{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formStateKey = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\n\nconst formData = {\n  email: '',\n  message: ''\n};\n\nconst savedData = JSON.parse(localStorage.getItem(formStateKey));\nif (savedData) {\n  for (const key in savedData) {\n    const input = document.querySelector(`[name=\"${key}\"]`);\n    if (input) {\n      input.value = savedData[key];\n      formData[key] = savedData[key];\n    }\n  }\n}\n\nform.addEventListener('input', event => {\n  const key = event.target.name;\n  const value = event.target.value.trim();\n\n  formData[key] = value;\n  localStorage.setItem(formStateKey, JSON.stringify(formData));\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  if (validateFormFields(formData)) {\n    console.log('submit', formData);\n\n    localStorage.removeItem(formStateKey);\n    form.reset();\n    formData.email = '';\n    formData.message = '';\n  } else {\n    alert('Будь ласка, заповніть всі поля форми.');\n  }\n});\n\n\nfunction validateFormFields(data) {\n  let isValid = true;\n  for (const key in data) {\n    const input = document.querySelector(`[name=\"${key}\"]`);\n    if (!data[key]) {\n      addBorderInputError(input);\n      isValid = false;\n    } else {\n      removeBorderInputError(input);\n    }\n  }\n  return isValid;\n}\n\n\nfunction addBorderInputError(input) {\n  input.classList.add('error');\n}\n\nfunction removeBorderInputError(input) {\n  input.classList.remove('error');\n}\n"],"names":["formStateKey","form","formData","savedData","key","input","event","value","validateFormFields","data","isValid","removeBorderInputError","addBorderInputError"],"mappings":"oDAAA,MAAMA,EAAe,sBACfC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAY,KAAK,MAAM,aAAa,QAAQH,CAAY,CAAC,EAC/D,GAAIG,EACF,UAAWC,KAAOD,EAAW,CAC3B,MAAME,EAAQ,SAAS,cAAc,UAAUD,CAAG,IAAI,EAClDC,IACFA,EAAM,MAAQF,EAAUC,CAAG,EAC3BF,EAASE,CAAG,EAAID,EAAUC,CAAG,EAEhC,CAGHH,EAAK,iBAAiB,QAASK,GAAS,CACtC,MAAMF,EAAME,EAAM,OAAO,KACnBC,EAAQD,EAAM,OAAO,MAAM,KAAI,EAErCJ,EAASE,CAAG,EAAIG,EAChB,aAAa,QAAQP,EAAc,KAAK,UAAUE,CAAQ,CAAC,CAC7D,CAAC,EAEDD,EAAK,iBAAiB,SAAUK,GAAS,CACvCA,EAAM,eAAc,EAEhBE,EAAmBN,CAAQ,GAC7B,QAAQ,IAAI,SAAUA,CAAQ,EAE9B,aAAa,WAAWF,CAAY,EACpCC,EAAK,MAAK,EACVC,EAAS,MAAQ,GACjBA,EAAS,QAAU,IAEnB,MAAM,uCAAuC,CAEjD,CAAC,EAGD,SAASM,EAAmBC,EAAM,CAChC,IAAIC,EAAU,GACd,UAAWN,KAAOK,EAAM,CACtB,MAAMJ,EAAQ,SAAS,cAAc,UAAUD,CAAG,IAAI,EACjDK,EAAKL,CAAG,EAIXO,EAAuBN,CAAK,GAH5BO,EAAoBP,CAAK,EACzBK,EAAU,GAIb,CACD,OAAOA,CACT,CAGA,SAASE,EAAoBP,EAAO,CAClCA,EAAM,UAAU,IAAI,OAAO,CAC7B,CAEA,SAASM,EAAuBN,EAAO,CACrCA,EAAM,UAAU,OAAO,OAAO,CAChC"}